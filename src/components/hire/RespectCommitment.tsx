'use client';

import React from 'react';
import {
    Box,
    Typography,
    Button,
    useTheme,
    useMediaQuery,
    IconButton
} from '@mui/material';
import {
    ArrowBack as ArrowBackIcon,
    Close as CloseIcon
} from '@mui/icons-material';
import { Flavor, flavorConfigs } from '@/types/flavors';

interface RespectCommitmentProps {
    flavor?: Flavor;
    onCommit?: () => void;
    onBack?: () => void;
    onClose?: () => void;
}

const RespectCommitment: React.FC<RespectCommitmentProps> = ({
    flavor = Flavor.HOSPITALITY,
    onCommit,
    onBack,
    onClose
}) => {
    const theme = useTheme();
    const isMobile = useMediaQuery(theme.breakpoints.down('sm'));
    const config = flavorConfigs[flavor];

    return (
        <Box
            sx={{
                minHeight: '100vh',
                backgroundColor: 'white',
                display: 'flex',
                flexDirection: 'column',
                alignItems: 'center',
                justifyContent: isMobile ? 'flex-start' : 'center',
                px: isMobile ? 2 : 3,
                position: 'relative',
                pt: isMobile ? 10 : 0
            }}
        >
            {/* Navegación superior */}
            <Box
                sx={{
                    position: 'absolute',
                    top: 20,
                    left: 0,
                    right: 0,
                    display: 'flex',
                    justifyContent: 'space-between',
                    alignItems: 'center',
                    px: isMobile ? 2 : 3
                }}
            >
                {/* Botón regresar */}
                <IconButton
                    onClick={onBack}
                    sx={{
                        color: theme.palette.text.primary,
                        '&:hover': {
                            backgroundColor: 'rgba(0, 0, 0, 0.04)'
                        }
                    }}
                >
                    <ArrowBackIcon />
                </IconButton>

                {/* Botón cerrar */}
                <IconButton
                    onClick={onClose}
                    sx={{
                        color: theme.palette.text.primary,
                        '&:hover': {
                            backgroundColor: 'rgba(0, 0, 0, 0.04)'
                        }
                    }}
                >
                    <CloseIcon />
                </IconButton>
            </Box>

            {/* Contenido principal */}
            <Box
                sx={{
                    display: 'flex',
                    flexDirection: 'column',
                    alignItems: 'center',
                    textAlign: 'center',
                    maxWidth: 400,
                    width: '100%',
                    flex: isMobile ? 1 : 'none',
                    justifyContent: isMobile ? 'space-between' : 'center'
                }}
            >
                {/* Contenido superior */}
                <Box
                    sx={{
                        display: 'flex',
                        flexDirection: 'column',
                        alignItems: 'center',
                        width: '100%',
                        flex: isMobile ? 1 : 'none',
                        justifyContent: isMobile ? 'center' : 'flex-start'
                    }}
                >
                    {/* Icono de manos */}
                    <Box
                        sx={{
                            mb: 4,
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                        }}
                    >
                        <svg
                            width={isMobile ? 130 : 200}
                            height={isMobile ? 130 : 250}
                            viewBox="0 0 132 108"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M63.027 17.0887C63.0671 17.1001 63.1129 17.1116 63.153 17.123L66.8827 18.1175L74.64 10.3786L59.3032 6.28058L59.3089 6.2863C57.1261 5.71475 54.8401 6.73782 53.8261 8.74399C53.8146 8.77828 53.7974 8.81829 53.7745 8.85258C53.6542 9.10407 53.5568 9.36127 53.4823 9.63562C52.812 12.1619 54.3131 14.751 56.8397 15.4368L63.0213 17.0886L63.027 17.0887ZM64.2587 21.6039C65.7368 23.0728 65.7368 25.4561 64.2645 26.925C62.7921 28.3996 60.403 28.3996 58.9306 26.9307L41.4172 9.459C39.9792 7.98442 39.9964 5.62959 41.4574 4.17212C42.9183 2.72038 45.273 2.70324 46.7568 4.13783L51.1797 8.55588C51.1339 8.69305 51.088 8.83594 51.0479 8.97882C50.0224 12.8482 52.3198 16.8148 56.1927 17.8664L62.111 19.4496L64.2652 21.5987L64.2587 21.6039ZM67.192 21.381L84.8946 3.72052C86.516 2.16019 89.0884 2.18872 90.6753 3.77196C92.268 5.36082 92.291 7.92707 90.7269 9.5389L78.0941 22.1473C77.6071 22.6389 77.6129 23.4333 78.0998 23.9248C78.5926 24.4106 79.3832 24.4163 79.8815 23.9305L90.5665 13.271V13.2653C92.1879 11.6879 94.7774 11.705 96.3758 13.3053C97.9741 14.9057 97.98 17.4891 96.3929 19.1008L85.9773 29.4917V29.4859C85.7367 29.7203 85.5992 30.0461 85.5992 30.3833C85.5992 30.7205 85.731 31.0406 85.9716 31.2806C86.2065 31.515 86.533 31.6521 86.8711 31.6464C87.2091 31.6464 87.5299 31.5092 87.7648 31.2692L94.2502 24.7992H94.256C95.8717 23.216 98.4612 23.2332 100.06 24.8278C101.658 26.4224 101.675 29.0059 100.088 30.6175L89.6726 41.0084C89.1913 41.4999 89.1913 42.2944 89.684 42.7859C90.171 43.2717 90.9673 43.2774 91.46 42.7916L97.9454 36.3216H97.9511C99.5668 34.7211 102.168 34.7211 103.783 36.3216C104.603 37.0817 105.158 38.0876 105.37 39.185C105.519 40.1052 105.204 41.0482 104.522 41.694L85.4794 60.6919C85.4565 60.709 85.4393 60.7319 85.4221 60.749C83.2393 62.8981 80.7299 64.687 77.9857 66.0473L77.9226 66.0816C75.207 67.4019 72.3196 68.3393 69.3461 68.8707C66.5101 69.3622 63.9034 70.7339 61.8925 72.7859L50.4113 84.2397L24.865 58.7542L34.6905 48.9521L34.8509 49.1121C36.6499 50.9183 39.3711 51.4613 41.7259 50.4839C44.0863 49.5122 45.6216 47.2089 45.6159 44.6597V44.5054C47.5123 45.0598 49.5633 44.6826 51.1445 43.4995C52.7314 42.3106 53.6595 40.4474 53.6538 38.4755C53.6538 38.1783 53.6366 37.8811 53.5908 37.5839C53.8887 37.6239 54.1866 37.6468 54.4845 37.6468C56.3064 37.6468 58.0423 36.858 59.2397 35.4805C60.4314 34.1088 60.9699 32.2798 60.7121 30.4794C62.5225 30.7423 64.3559 30.2051 65.7309 29.0105C67.1116 27.816 67.9023 26.0842 67.9023 24.2609C67.9023 23.2607 67.6616 22.2719 67.2033 21.3802L67.192 21.381ZM57.1431 28.7083C58.5811 30.1829 58.5639 32.5377 57.1087 33.9952C55.6478 35.4469 53.2873 35.464 51.8092 34.0294L37.0854 19.3465C35.6474 17.8719 35.6588 15.5171 37.1198 14.0596C38.575 12.6022 40.9354 12.5851 42.4135 14.0196L57.1374 28.7084L57.1431 28.7083ZM38.9594 10.4523C37.0573 7.78887 37.5157 4.11953 40.0193 2.0048C42.5172 -0.109918 46.224 0.0385952 48.55 2.34774L52.4631 6.25149C54.2792 4.06244 57.2068 3.11942 59.9682 3.8453L76.7087 8.32626L83.1139 1.9363C85.417 -0.355613 89.0436 -0.647077 91.6848 1.24472C94.3317 3.13089 95.2197 6.65158 93.7874 9.56651C96.4171 9.68653 98.7259 11.344 99.6769 13.7959C100.628 16.2422 100.044 19.0199 98.1874 20.8833L97.9525 21.1176C100.479 21.4148 102.622 23.1238 103.458 25.5299C104.295 27.9304 103.687 30.5938 101.888 32.3943L101.654 32.6286C103.137 32.8001 104.529 33.4688 105.584 34.5262C106.793 35.675 107.595 37.1782 107.887 38.8186C108.162 40.5275 107.577 42.2651 106.323 43.4653L101.04 48.7351L109.107 56.7825L114.716 51.187C114.951 50.9527 115.272 50.8155 115.61 50.8155C115.942 50.8155 116.263 50.9527 116.503 51.187L131.628 66.2753C131.868 66.5096 132 66.8297 132 67.1669C132 67.4984 131.868 67.8242 131.628 68.0585L91.9588 107.633C91.7239 107.867 91.4031 107.999 91.0651 107.999C90.7328 107.999 90.4062 107.867 90.1713 107.633L75.0515 92.5447C74.5588 92.0532 74.5588 91.253 75.0515 90.7614L81.3994 84.4343L80.2879 83.1255C78.3858 80.8051 75.6244 79.3419 72.6337 79.0618C70.7889 78.8503 69.0071 78.3017 67.3628 77.45C65.9592 76.7241 64.6414 75.8439 63.4326 74.8322L52.2093 86.0289L56.9588 90.7671C57.4515 91.2586 57.4515 92.0588 56.9588 92.5504L41.8287 107.634C41.5881 107.869 41.2672 108 40.9349 108C40.5969 108 40.2761 107.869 40.0412 107.634L0.3724 68.0598C0.13178 67.8255 0 67.4997 0 67.1682C0 66.8309 0.131771 66.5109 0.3724 66.2765L15.4922 51.1883C15.7328 50.954 16.0537 50.8168 16.386 50.8168C16.724 50.8168 17.0448 50.954 17.2797 51.1883L23.0719 56.9667L32.8973 47.1646L26.4978 40.786H26.5036C24.7962 39.0885 24.2119 36.568 24.9969 34.2932C25.7875 32.0184 27.8042 30.3895 30.199 30.1037C28.9557 28.2976 28.7495 25.9771 29.649 23.9767C30.5542 21.9762 32.4333 20.5931 34.6161 20.3245C33.327 18.524 33.0864 16.1808 33.9802 14.1575C34.8682 12.1342 36.7645 10.7281 38.9587 10.4539L38.9594 10.4523ZM65.3593 73.1521C66.3333 73.9408 67.3817 74.6267 68.4931 75.2039C69.8624 75.9184 71.3519 76.3756 72.8874 76.5528C76.5312 76.8957 79.8883 78.6789 82.2087 81.5081L83.1827 82.6569L107.325 58.5599L99.2588 50.5125L87.2676 62.4751C87.2447 62.498 87.2161 62.5208 87.1874 62.5437C84.8213 64.8814 82.0942 66.8246 79.1094 68.3049L79.0406 68.3392C76.113 69.7624 73.0021 70.7741 69.7995 71.3456C68.6422 71.5513 67.525 71.9286 66.4823 72.4716C66.0928 72.6773 65.7202 72.9064 65.3593 73.1521ZM35.5846 46.2663C35.9398 46.6093 36.2893 46.9693 36.6445 47.3237H36.6388C38.1169 48.7926 40.5059 48.7926 41.9783 47.3237C43.4507 45.8548 43.4507 43.4715 41.9783 42.0026L33.631 33.6751V33.6694C32.1529 32.2405 29.7924 32.2577 28.3315 33.7094C26.8763 35.1668 26.8591 37.5217 28.2971 38.9963L35.5846 46.2663ZM35.4185 31.8918L44.6825 41.1338C46.1549 42.6027 48.5382 42.6027 50.0106 41.1338C51.4887 39.6649 51.4887 37.2816 50.0163 35.8127L38.0654 23.8902C36.5873 22.4556 34.2268 22.4728 32.7659 23.9302C31.3107 25.382 31.2935 27.7368 32.7315 29.2114L35.4185 31.8918Z"
                                fill={theme.palette.text.primary}
                            />
                        </svg>
                    </Box>

                    {/* Título */}
                    <Typography
                        variant="h4"
                        component="h1"
                        sx={{
                            color: theme.palette.text.primary,
                            fontWeight: "bold",
                            mb: 3,
                            fontSize: isMobile ? '1.8rem' : '2.2rem',
                            lineHeight: 1.2
                        }}
                    >
                        Respect <br /> comes first
                    </Typography>

                    {/* Texto descriptivo */}
                    <Typography
                        variant="body1"
                        sx={{
                            color: "#1A1A1A",
                            mb: isMobile ? 0 : 12,
                            fontSize: isMobile ? '1rem' : '1.1rem',
                            lineHeight: 1.5,
                            maxWidth: 300
                        }}
                    >
                        By using YAKKA, you agree to foster a safe and respectful work environment.
                    </Typography>
                </Box>

                {/* Botón de compromiso */}
                <Button
                    variant="contained"
                    onClick={onCommit}
                    sx={{
                        backgroundColor: config.primaryColor,
                        color: 'white',
                        py: 2,
                        px: 4,
                        borderRadius: 2,
                        fontSize: '1.1rem',
                        fontWeight: 'bold',
                        textTransform: 'none',
                        width: '100%',
                        maxWidth: isMobile ? '100%' : 300,
                        whiteSpace: 'nowrap',
                        mt: isMobile ? 'auto' : 0,
                        mb: isMobile ? 4 : 0,
                        '&:hover': {
                            backgroundColor: config.buttonHoverColor
                        }
                    }}
                >
                    I commit to being respectful
                </Button>
            </Box>
        </Box>
    );
};

export default RespectCommitment;
